<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >
    <h:head>
        <title>Clientes</title>
    </h:head>
    <h:body>
        <h:outputLabel value="Listado de Clientes" />
        <h:form id="fr1">
            <p:dataTable id="tabalu" value="#{controluno.liscli}" var="cli" paginator="true" rows="6">
                <p:column headerText="CÃ³digo">
                    <p:outputLabel value="#{cli.codc}" />
                </p:column>
                <p:column headerText="Nombre">
                    <p:outputLabel value="#{cli.nomc}" />
                </p:column>
                <p:column headerText="Ver">
                    <p:commandLink value="Facturas" actionListener="#{controluno.listado(cli)}" update=":fr2" />
                </p:column>
            </p:dataTable>
        </h:form>
        <h:form id="fr2">
            <p:panelGrid columns="1">
                <p:outputLabel value="Nombre : #{controluno.nombre}" style="color: blue; font-size: 20px;" />
            </p:panelGrid>
            
            <p:dataTable value="#{controluno.lisfact}" var="fac">
                <p:column headerText="Factura">
                    <p:outputLabel value="#{fac.nro}" />
                </p:column>
                <p:column headerText="Fecha">
                    <p:outputLabel value="#{fac.fecha}" />
                </p:column>
                <p:column headerText="IGV">
                    <p:outputLabel value="#{fac.tipo}" />
                </p:column>
                <p:column headerText="Ver">
                    <p:commandLink value="Detalle" actionListener="#{controluno.listadodetalle(fac)}" update=":fr3" />
                </p:column>
            </p:dataTable>
        </h:form>
        <h:form id="fr3">
            <p:panelGrid columns="1">
                <p:outputLabel value="Nombre : #{controluno.numfactura}" style="color: blue; font-size: 20px;" />
            </p:panelGrid>
            
            <p:dataTable value="#{controluno.lisdetafact}" var="defac">
                <p:column headerText="CÃ³digo">
                    <p:outputLabel value="#{defac.coda}" />
                </p:column>
                <p:column headerText="DescripciÃ³n">
                    <p:outputLabel value="#{defac.noma}" />
                </p:column>
                <p:column headerText="Precio">
                    <p:outputLabel value="#{defac.puni}" />
                </p:column>
                <p:column headerText="Cantidad">
                    <p:outputLabel value="#{defac.can}" />
                </p:column>
                <p:column headerText="Total">
                    <p:outputLabel value="#{defac.total()}" />
                </p:column>
            </p:dataTable>
        </h:form>
    </h:body>
</html>

